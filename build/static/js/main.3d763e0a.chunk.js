(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n(43)},22:function(e,t,n){},24:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(16),i=n.n(s);n(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(23),n(24);var o=n(5),c=n(6),u={apiClassImport:function(e,t){return r.createElement(e,t)}},l=Object(c.a)({},u,{apiClassImport:function(e,t){var n=Object(c.a)({},t,{imports:Object(o.a)(t.imports)});return a.a.createElement(a.a.Fragment,null,a.a.createElement(e,n))}}),m=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"d-flex w-100"},a.a.createElement("div",{className:"col-4"},a.a.createElement("pre",null,JSON.stringify(e.obj1,null,4))),a.a.createElement("div",{className:"col-4"},a.a.createElement("pre",null,JSON.stringify(e.obj2,null,4))),a.a.createElement("div",{className:"col-4"},a.a.createElement("pre",null,e.obj3))))},p=function(e){return a.a.createElement(a.a.Fragment,null,"\t","public constructor(service:IRequestService) ","{\n","\t\t","this._requestService = service; ","\n","\t}\n")},h=function(e){return a.a.createElement(a.a.Fragment,null,"\t","public _requestService:IRequestService; ","\n")},f=function(e){if(e.swaggerMethod.responseIsVoid)return a.a.createElement(a.a.Fragment,null,"AxiosPromise<void>");var t=e.swaggerMethod.responseIsArray?"[]":"";return a.a.createElement(a.a.Fragment,null,"AxiosPromise<".concat(e.swaggerMethod.responseType).concat(t,">"))},g=function(e){var t=e.swaggerMethod.parameters.map((function(t,n){var r=n!==e.swaggerMethod.parameters.length-1?",":"";return a.a.createElement("span",{key:t.name},t.name,":",t.type,r)}));return a.a.createElement(a.a.Fragment,null,t)},d=function(e){return a.a.createElement(a.a.Fragment,null,"\t\t","const url = `",e.swaggerMethod.parent.url.replace(/{/g,"${"),"`;","\n","\t\t","const params = ",function(){var t=e.swaggerMethod.parameters.filter((function(e){return e.isBodyParameter})).map((function(e){return e.name})).join(",");return t&&t.length?"[url,".concat(t,"]"):"[url]"}(),";","\n","\t\t","return this._requestService.",e.swaggerMethod.httpMethod,".apply(this._requestService,params);","\n")},y=function(e){return a.a.createElement(a.a.Fragment,null,"\t","public ",e.swaggerMethod.name,"(",a.a.createElement(g,{swaggerMethod:e.swaggerMethod}),"):",a.a.createElement(f,{swaggerMethod:e.swaggerMethod}),"{\n",a.a.createElement(d,{swaggerMethod:e.swaggerMethod}),"\t}\n")},v=function(e){var t=e.swaggerClass.methods.map((function(e){return a.a.createElement(y,{key:e.name,swaggerMethod:e})}));return a.a.createElement(a.a.Fragment,null,t)},E=function(e){return a.a.createElement(a.a.Fragment,null,"class ",e.swaggerClass.name)},w=function(e){return"string"!==typeof e?"":e.charAt(0).toLowerCase()+e.slice(1)},b=function(e){var t=e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()}));return t=t.filter((function(e){return!["api","i"].includes(e)})),"".concat(t.join("-"),".ts")},j=Symbol("source"),O=Symbol("source"),k=function(e){return"I".concat(e,"Model")},C=function(e){if("integer"===e)return"number";if("array"===e)return"Array";if(e&&e.indexOf("#")>=0){var t=e.split("/");return k("".concat(t[t.length-1]))}return e},M="/* This code generated with swagger-typescript-generator. Don't modify this file because it will be rewriten. */\n",I=function(e){return!!e&&("I"==e[0]&&0!==e.indexOf("Model"))},N=function(e){return e.replace(/[\{\}]/g,"").replace(/[-_]/g,"/").split("/").filter((function(e){return"api"!=e})).map((function(e){return function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}(e)})).join("")+"Api"},x=function(e){return e&&"array"===e.type},F=function(e){var t="",n=e.items?e.items.$ref:e.$ref;if(n&&(t=C(n)),n||(t=e.type),!n){var r=e.additionalProperties;r&&r.type&&(t=C(r.type))}return t},S=function(e){var t=e.swaggerClass.methods.map((function(e){return e.responseType&&I(e.responseType)?e.responseType:void 0})),n=[];e.swaggerClass.methods.forEach((function(e){e.parameters.forEach((function(e){e.type&&I(e.type)&&n.push(e.type)}))}));var r=[].concat(Object(o.a)(t),n).reduce((function(e,t){return t&&(e[t]=t),e}),{}),s=["import {AxiosPromise} from 'axios'","import {IRequestService, requestService} from 'swagger-typescript-generator'"],i=Object.keys(r).filter((function(e){return!!e})).join(",");return i.length&&s.push("import {".concat(i,"} from '").concat(e.swaggerClass.parent.config.modelImportPath,"'")),a.a.createElement(a.a.Fragment,null,e.swaggerClass.plugin.apiClassImport(A,{swaggerClass:e.swaggerClass,imports:s}))},A=function(e){var t=e.imports.map((function(e){return a.a.createElement("div",{key:e},e,";","\n")}));return a.a.createElement(a.a.Fragment,null,t,"\n")},P=function(e){e.swaggerClass;return a.a.createElement(a.a.Fragment,null,M,a.a.createElement(S,{swaggerClass:e.swaggerClass}),a.a.createElement(E,{swaggerClass:e.swaggerClass}),"{\n",a.a.createElement(h,{swaggerClass:e.swaggerClass}),a.a.createElement(p,{swaggerClass:e.swaggerClass}),a.a.createElement(v,{swaggerClass:e.swaggerClass}),"}\n",a.a.createElement("span",null,"export const ",w(e.swaggerClass.name)," = new ",e.swaggerClass.name,"(","requestService",");\n"))},T=function(e){var t=e.classes.map((function(e,t){return a.a.createElement(m,{key:t,obj1:e.source,obj2:e,obj3:(n=e,a.a.createElement(P,{swaggerClass:n}))});var n}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("h5",{className:"pl-3"},"Api:"),t)},q=function(e){var t=e.definition.properties.map((function(e){var t=e.isArray?"".concat(e.type,"[]"):e.type;return a.a.createElement("span",{key:e.name},"\t",e.name,":",t,"\n")})),n=e.definition.properties.map((function(e){return I(e.type)?e.type:void 0})).filter((function(t){return!!t&&t!==e.definition.name})).join(","),r=[];n.length&&r.push("import {".concat(n,"} from '").concat(e.definition.parent.config.modelImportPath,"'"));var s=r.map((function(e,t){return a.a.createElement("div",{key:t},e,";","\n")}));return a.a.createElement(a.a.Fragment,null,M,s,"export interface ",e.definition.name,"{"," ","\n",t,"}")},J=function(e){var t=e.definitions.map((function(e){var t=e.fileName.split(".");return a.a.createElement("span",{key:e.name},"export * from './",t[0],"'","\n")}));return a.a.createElement(a.a.Fragment,null,M,t)},B=function(e){var t=function(e){return a.a.createElement(q,{definition:e})},n=e.definitions.map((function(e){return a.a.createElement(m,{key:e.name,obj1:e.source,obj2:e,obj3:t(e)})})),r=a.a.createElement(J,{definitions:e.definitions});return a.a.createElement(a.a.Fragment,null,a.a.createElement("h5",{className:"pl-3"},"Definitions examble for index.ts:"),a.a.createElement(m,{key:"index.ts",obj1:{},obj2:{},obj3:r}),a.a.createElement("hr",null),a.a.createElement("h5",{className:"pl-3"},"Definitions:"),n)},$=n(4),_=n(2),V=n(3),D=function(){function e(t,n,r){Object(_.a)(this,e),this.type="",this.name="",this.fileName="",this.properties=[],this.parent=t,this.source=r,this.name=k(n),this.fileName=b(n),this.type=C(r.type),r.items&&(this.type=F(r)),this.properties=Object.keys(r.properties).reduce((function(e,t){var n=r.properties[t];return e.push(new R(t,n)),e}),[])}return Object(V.a)(e,[{key:"source",get:function(){return this[j]},set:function(e){this[j]=e}},{key:"parent",get:function(){return this[O]},set:function(e){this[O]=e}}]),e}(),R=function(){function e(t,n){Object(_.a)(this,e),this.name="",this.type="",this.isArray=!1,this.source=n,this.name=t,this.type=C(n.type),n.items&&(this.type=F(n)),this.isArray=x(n)}return Object(V.a)(e,[{key:"source",get:function(){return this[j]},set:function(e){this[j]=e}}]),e}(),U=function(){function e(t,n,r){var a=this;Object(_.a)(this,e),this.httpMethod="",this.name="",this.tags="",this.parameters=[],this.responseIsVoid=void 0,this.responseIsArray=void 0,this.responseType=void 0,this.parent=t,this.source=r,this.name=w(this.source.operationId),this.httpMethod=n;var s=Object($.a)(this.source.tags,1);if(this.tags=s[0],r.parameters&&(this.parameters=r.parameters.map((function(e){return new L(a,e)}))),this.responseIsVoid=!0,r.responses&&r.responses[200]){this.responseIsVoid=!1;var i=r.responses[200].schema;i&&(this.responseIsArray=x(i),this.responseType=F(i))}}return Object(V.a)(e,[{key:"getUrlInfo",value:function(){return{httpMethod:this.httpMethod,name:this.name,url:this.parent.url}}},{key:"source",get:function(){return this[j]},set:function(e){this[j]=e}},{key:"parent",get:function(){return this[O]},set:function(e){this[O]=e}}]),e}(),L=function(){function e(t,n){Object(_.a)(this,e),this.name="",this.type="",this.isBodyParameter=void 0,this.isPathParameter=void 0,this.isJsType=void 0,this.parent=t,this.source=n,this.name=n.name,n.schema?(this.isJsType=!1,this.type=C(n.schema.$ref),this.type||(this.type=C(n.schema.type))):(this.type=C(n.type),this.isJsType=!0),this.isBodyParameter="body"===n.in,this.isPathParameter="path"===n.in}return Object(V.a)(e,[{key:"source",get:function(){return this[j]},set:function(e){this[j]=e}},{key:"parent",get:function(){return this[O]},set:function(e){this[O]=e}}]),e}(),W=function(){function e(t,n,r){var a=this;Object(_.a)(this,e),this.name="",this.url=void 0,this.fileName=void 0,this.methods=[],this.parent=t,this.source=r,this.name=N(n),this.url=n,this.fileName=b(this.name),this.methods=Object.keys(r).reduce((function(e,t){var n=r[t];return e.push(new U(a,t,n)),e}),[])}return Object(V.a)(e,[{key:"plugin",get:function(){return this.parent.config.plugin}},{key:"source",get:function(){return this[j]},set:function(e){this[j]=e}},{key:"parent",get:function(){return this[O]},set:function(e){this[O]=e}}]),e}(),Z=Symbol("source"),z=function(){function e(t){var n=this;Object(_.a)(this,e),this.definitions=[],this.classes=[],this.config=t;var r=t.source;this.definitions=Object.keys(r.definitions).reduce((function(e,t){var a=r.definitions[t];return e.push(new D(n,t,a)),e}),[]),this.classes=Object.keys(r.paths).reduce((function(e,t){var a=r.paths[t];return e.push(new W(n,t,a)),e}),[])}return Object(V.a)(e,[{key:"config",get:function(){return this[Z]},set:function(e){this[Z]=e}}]),e}(),G=Object(r.createContext)({plugin:u}),H=n(25),K=function(e){var t=Object(r.useState)("https://petstore.swagger.io/v2/swagger.json"),n=Object($.a)(t,2),s=n[0],i=n[1],o=Object(r.useState)(),c=Object($.a)(o,2),u=c[0],l=c[1],m=function(){H.get(s).then((function(t){var n={source:t.data,modelImportPath:"../api-model",plugin:e.plugin};l(new z(n))})).catch((function(e){console.log("load swagger error "+e)}))};Object(r.useEffect)((function(){u||m()}));return a.a.createElement("div",{className:"p-2"},a.a.createElement("div",{className:"d-flex px-3 pt-1"},a.a.createElement("h5",null,"Url\xa0to\xa0swagger.json:\xa0"),a.a.createElement("input",{type:"text",className:"w-100",value:s,onChange:function(e){return i(e.target.value)}}),a.a.createElement("button",{onClick:function(){m()}},"explore")),a.a.createElement("hr",null),a.a.createElement(G.Provider,{value:{plugin:e.plugin}},u&&u.definitions?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"d-flex w-100"},a.a.createElement("div",{className:"col-4"},a.a.createElement("h5",null,"Swagger")),a.a.createElement("div",{className:"col-4"},a.a.createElement("h5",null,"Transformed")),a.a.createElement("div",{className:"col-4"},a.a.createElement("h5",null,"Typescript"))),a.a.createElement("hr",null),a.a.createElement(T,{classes:u.classes}),a.a.createElement("hr",null),a.a.createElement(B,{definitions:u.definitions})):null))},Q=function(){return a.a.createElement("div",null,a.a.createElement(K,{plugin:l}))};i.a.render(a.a.createElement((function(){return a.a.createElement("div",null,a.a.createElement(Q,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.3d763e0a.chunk.js.map